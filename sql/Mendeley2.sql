-- MySQL Script generated by MySQL Workbench
-- Fri Dec  8 14:36:56 2017
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `mydb` DEFAULT CHARACTER SET utf8 ;
USE `mydb` ;

-- -----------------------------------------------------
-- Table `mydb`.`Utilizator`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Utilizator` ;

CREATE TABLE IF NOT EXISTS `mydb`.`Utilizator` (
  `id` INT(5) NOT NULL,
  `NumeUtilizator` VARCHAR(45) NOT NULL,
  `MailUtilizator` VARCHAR(45) NOT NULL,
  `VarstaUtilizator` INT(5) NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Categorie`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Categorie` ;

CREATE TABLE IF NOT EXISTS `mydb`.`Categorie` (
  `id` INT(5) NOT NULL,
  `NumeCategorie` VARCHAR(45) NOT NULL,
  `NumarDocumente` INT(5) NOT NULL,
  `Descriere` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE INDEX `NumeCategorie_UNIQUE` (`NumeCategorie` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Document`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Document` ;

CREATE TABLE IF NOT EXISTS `mydb`.`Document` (
  `id` INT(5) NOT NULL,
  `NumeDocument` VARCHAR(45) NOT NULL,
  `SpatiuOcupat` INT(5) NOT NULL,
  `Utilizator_idUtilizator` INT(5) NOT NULL,
  `Categorie_idCategorie` INT(5) NOT NULL,
  INDEX `fk_Document_Utilizator_idx` (`Utilizator_idUtilizator` ASC),
  INDEX `fk_Document_Categorie1_idx` (`Categorie_idCategorie` ASC),
  CONSTRAINT `fk_Document_Utilizator`
    FOREIGN KEY (`Utilizator_idUtilizator`)
    REFERENCES `mydb`.`Utilizator` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `fk_Document_Categorie1`
    FOREIGN KEY (`Categorie_idCategorie`)
    REFERENCES `mydb`.`Categorie` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

-- -----------------------------------------------------
-- Data for table `mydb`.`Utilizator`
-- -----------------------------------------------------
START TRANSACTION;
USE `mydb`;
INSERT INTO `mydb`.`Utilizator` (`id`, `NumeUtilizator`, `MailUtilizator`, `VarstaUtilizator`) VALUES (01, 'Popa Andrei', 'popa.a90@yahoo.com', 30);
INSERT INTO `mydb`.`Utilizator` (`id`, `NumeUtilizator`, `MailUtilizator`, `VarstaUtilizator`) VALUES (02, 'Florea Angela', 'angi.floarea99@gmail.com', 18);
INSERT INTO `mydb`.`Utilizator` (`id`, `NumeUtilizator`, `MailUtilizator`, `VarstaUtilizator`) VALUES (03, 'Petcu Cezara', 'petcu.cezara@yahoo.com', 22);
INSERT INTO `mydb`.`Utilizator` (`id`, `NumeUtilizator`, `MailUtilizator`, `VarstaUtilizator`) VALUES (04, 'Smadu Raluca', 'smadu.andreea@yahoo.com', 20);
INSERT INTO `mydb`.`Utilizator` (`id`, `NumeUtilizator`, `MailUtilizator`, `VarstaUtilizator`) VALUES (05, 'Cinaru Eugenia', 'eugenia.cinaru@gmail.com', 29);

COMMIT;


-- -----------------------------------------------------
-- Data for table `mydb`.`Categorie`
-- -----------------------------------------------------
START TRANSACTION;
USE `mydb`;
INSERT INTO `mydb`.`Categorie` (`id`, `NumeCategorie`, `NumarDocumente`, `Descriere`) VALUES (001, 'Fizica', 100, 'inovatii');
INSERT INTO `mydb`.`Categorie` (`id`, `NumeCategorie`, `NumarDocumente`, `Descriere`) VALUES (202, 'Matematica', 300, 'demonstratii');
INSERT INTO `mydb`.`Categorie` (`id`, `NumeCategorie`, `NumarDocumente`, `Descriere`) VALUES (301, 'USA Evolution', 50, 'USA');
INSERT INTO `mydb`.`Categorie` (`id`, `NumeCategorie`, `NumarDocumente`, `Descriere`) VALUES (501, 'Progres', 10, 'evolutie');

COMMIT;


-- -----------------------------------------------------
-- Data for table `mydb`.`Document`
-- -----------------------------------------------------
START TRANSACTION;
USE `mydb`;
INSERT INTO `mydb`.`Document` (`id`, `NumeDocument`, `SpatiuOcupat`, `Utilizator_idUtilizator`, `Categorie_idCategorie`) VALUES (300, 'Albert Einstein', 6, 01, 001);
INSERT INTO `mydb`.`Document` (`id`, `NumeDocument`, `SpatiuOcupat`, `Utilizator_idUtilizator`, `Categorie_idCategorie`) VALUES (301, 'Imigrarea', 10, 02, 301);
INSERT INTO `mydb`.`Document` (`id`, `NumeDocument`, `SpatiuOcupat`, `Utilizator_idUtilizator`, `Categorie_idCategorie`) VALUES (301, 'Imigrarea', 10, 01, 301);
INSERT INTO `mydb`.`Document` (`id`, `NumeDocument`, `SpatiuOcupat`, `Utilizator_idUtilizator`, `Categorie_idCategorie`) VALUES (303, 'Donald Trump', 12, 05, 301);
INSERT INTO `mydb`.`Document` (`id`, `NumeDocument`, `SpatiuOcupat`, `Utilizator_idUtilizator`, `Categorie_idCategorie`) VALUES (304, 'Pascal', 2, 04, 202);

COMMIT;

